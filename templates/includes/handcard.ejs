<%
    rarity = getRarityName(card.rarity);
%>
<div class="card card-tcg card-<%= rarity %>">
    <div class="card-body card-body-tcg">
        <img src="<%= card.customImage || card.image %>" alt="<%= card.name %>" title="<%= card.name %>" class="card-image" />
        <div class="id-holder rarity-<%= rarity %>"><%= card.id %></div>
        <div class="invisible-space-holder">&nbsp;</div>
        <div class="rarity-holder rarity-<%= rarity %>"><%= rarity %></div>
        <% if(card.rarity > card.base_rarity) { %>
            <div class="promotion-holder rarity-<%= rarity %>">
                <%= "â˜…".repeat(card.rarity - card.base_rarity) %>
            </div>
        <% } %>
    </div>
    <div class="card-footer text-center">
        <div class="card-info">
            <%= card.name %><br />
            <%= card.series %>
            <% if(card.cardid) { %>
                <div class="collapse cardExtraInfo" id="card<%= card.cardid %>ExtraInfo" data-cardid="<%= card.cardid %>">
                    Card ID: <%= card.cardid %><br />
                    <% if(card.rarity == 8) { %>
                        Non-tradeable
                    <% } else if(card.tradeableAt && card.tradeableAt > Date.now()) { %>
                        Non-tradeable until <%= new Date(card.tradeableAt).toISOString() %>
                    <% } else { %>
                        Tradeable
                    <% } %>
                </div>
            <% } %>
        </div>
        <% if(card.cardid) { %>
            <div class="expand-box">
                <i class="material-icons collapse-toggler" data-toggle="collapse" data-target="#card<%= card.cardid %>ExtraInfo" id="card<%= card.cardid %>Toggler">expand_more</i>
            </div>
        <% } %>
        
    </div>
</div>
